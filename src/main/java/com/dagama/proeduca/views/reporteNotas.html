<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap -->
        <link href="assets/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/css/bootstrap-select.css" rel="stylesheet">
        <!-- font awesome for icons -->
        <link href="assets/css/font-awesome.min.css" rel="stylesheet">
        <!-- flex slider css -->
        <link href="assets/css/flexslider.css" rel="stylesheet" type="text/css" media="screen">
        <!-- animated css  -->
        <link href="assets/css/animate.css" rel="stylesheet" type="text/css" media="screen">
        <!-- Revolution Style-sheet -->
        <link href="assets/rs-plugin/css/settings.css" rel="stylesheet" type="text/css">
        <link href="assets/css/rev-style.css" rel="stylesheet" type="text/css">
        <!--owl carousel css-->
        <link href="assets/owl-carousel/dist/assets/owl.carousel.css" rel="stylesheet" type="text/css" media="screen">
        <link href="assets/owl-carousel/dist/assets/owl.theme.default.css" rel="stylesheet" type="text/css" media="screen">
        <!--mega menu -->
        <link href="assets/css/yamm.css" rel="stylesheet" type="text/css">
        <!--cube css-->
        <link href="assets/cubeportfolio/css/cubeportfolio.min.css" rel="stylesheet" type="text/css">
        <!-- custom css-->
        <link href="assets/css/components.css" rel="stylesheet" type="text/css" media="screen">
        <link href="assets/css/style.css" rel="stylesheet" type="text/css" media="screen">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

<body>
<div class="top-bar-light">
    <div class="container">
        <div class="row">
            <div class="col-sm-4 hidden-xs">
                <div class="top-bar-socials">
                    <a href="#" class="social-icon-sm si-dark si-gray-round si-colored-facebook">
                        <i class="fa fa-facebook"></i>
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a href="#" class="social-icon-sm si-dark si-gray-round si-colored-twitter">
                        <i class="fa fa-twitter"></i>
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a href="#" class="social-icon-sm si-dark si-gray-round si-colored-google-plus">
                        <i class="fa fa-youtube"></i>
                        <i class="fa fa-youtube"></i>
                    </a>
                    <a href="#" class="social-icon-sm si-dark si-gray-round si-colored-instagram">
                        <i class="fa fa-instagram"></i>
                        <i class="fa fa-instagram"></i>
                    </a>
                </div>
            </div>
            <div class="col-sm-8 text-right">
                <ul class="list-inline top-dark-right">
                    <li class="hidden-sm hidden-xs"><i class="fa fa-envelope"></i> dagama@gmail.com</li>
                    <li class="hidden-sm hidden-xs"><i class="fa fa-phone"></i> 51 999999999 </li>
                    <li><a class="topbar-icons" href="#"><span><i class="fa fa-search top-search"></i></span></a></li>
                </ul>
                <div class="search">
                    <form role="form">
                        <input type="text" class="form-control" autocomplete="off" placeholder="Buscar">
                        <span class="search-close"><i class="fa fa-times"></i></span>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="navbar navbar-default navbar-static-top yamm sticky" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li class="active"><a href="index.html">Inicio</a></li>
                <li class="  ">
                    <a href="nosotros.html">Nosotros</a>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle " data-toggle="dropdown">Evaluaciones <i class="fa fa-angle-down"></i></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="RegistrarExamen.html"> Configurar Evaluación</a></li>
                        <li><a href="ConfiguracionPuntaje.html"> Configurar Evaluación Preguntas</a></li>
                        <li><a href="rendirEvaluacion.html"> Rendir evaluación</a></li>
                        <li><a href="ExamenNoProgramado.html"> Autoevaluaciones</a></li>
                    </ul>
                </li>
                <!--menu home li end here-->
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle " data-toggle="dropdown">Consultas <i class="fa fa-angle-down"></i></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="reporteNotas.html"> Reporte de Notas</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
    <!--container-->
</div>
<br>
<section class="container">
    <div class="form-row">
        <div class="form-group col-md-4">
            <div class="thumbnail">
                <div class="caption">
                    <label for="idnivelestudio">Nivel Estudio: </label>
                    <select class="form-control" id="idnivelestudio" required="required">
                    </select>
                </div>
                <div class="caption">
                    <label for="idevaluacion">Evaluacion: </label>
                    <select class="form-control" id="idevaluacion" required="required">
                    </select>
                </div>
                <div class="caption">
                    <label for="idcurso">Curso: </label>
                    <select class="form-control" id="idcurso" required="required">
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group col-md-6">
            <div>
                <h3>Reporte de Notas</h3>
            </div>
            <div class="panel panel-default">
                <table class="table" id="tbResultado">
                    <th>Puesto</th>
                    <th>Nombre del alumno</th>
                    <th>Nota</th>
                </table>
            </div>
        </div>
        <div class="form-group col-md-2">
            <img src="assets/images/rubros.jpg " alt=" " class="img-responsive d-inline-block pull-left ">
        </div>
    </div>
</section>
<section class="container">
    <div class="form-row">
        <div class="form-group col-md-4">
            <button id="btnConsultar" class="btn btn-primary" >Consultar</button>
        </div>
    </div>
</section>



<script src="assets/js/jquery.min.js "></script>
<script src="assets/js/jquery-migrate.min.js "></script>
<!--bootstrap js plugin-->
<script src="assets/js/bootstrap.min.js " type="text/javascript "></script>
<!--easing plugin for smooth scroll-->
<script src="assets/js/jquery.easing.1.3.min.js " type="text/javascript "></script>
<!--sticky header-->
<script type="text/javascript " src="assets/js/jquery.sticky.js "></script>
<!--flex slider plugin-->
<script src="assets/js/jquery.flexslider-min.js " type="text/javascript "></script>
<!--parallax background plugin-->
<script src="assets/js/jquery.stellar.min.js " type="text/javascript "></script>
<!--digit countdown plugin-->
<script src="assets/js/waypoints.min.js "></script>
<!--digit countdown plugin-->
<script src="assets/js/jquery.counterup.min.js " type="text/javascript "></script>
<!--on scroll animation-->
<script src="assets/js/wow.min.js " type="text/javascript "></script>
<!--owl carousel slider-->
<script src="assets/owl-carousel/dist/owl.carousel.min.js " type="text/javascript "></script>
<!--popup js-->
<script src="assets/js/jquery.magnific-popup.min.js " type="text/javascript "></script>
<!--customizable plugin edit according to your needs-->
<script src="assets/js/custom.js " type="text/javascript "></script>
<script type="text/javascript " src="assets/rs-plugin/js/jquery.themepunch.tools.min.js "></script>
<script type="text/javascript " src="assets/rs-plugin/js/jquery.themepunch.revolution.min.js "></script>
<script type="text/javascript " src="assets/rs-plugin/videojs/video.js "></script>
<script type="text/javascript " src="assets/js/revolution-custom.js "></script>
<script src="assets/js/bootstrap-select.min.js " type="text/javascript "></script>
<script src="assets/js/jquery-ui.min.js " type="text/javascript "></script>
<script src="assets/cubeportfolio/js/jquery.cubeportfolio.min.js " type="text/javascript "></script>
<script src="assets/js/cube-portfolio.js " type="text/javascript "></script>
<script src="assets/js/pace.min.js " type="text/javascript "></script>

<script type="text/javascript">
   $(document).ready(function () {

        //llenar los Niveles de Estudio en el combo
            $("#idnivelestudio").html('');
            $("#idnivelestudio").append($('<option value=0>SELECCIONAR NIVEL</option>'));
            $.get( "http://localhost:8080/api/nivelestudios", function(data){
                $.each( data, function(index, value){
                    $("#idnivelestudio").append($('<option>', {
                        value: value.idnivelestudio,
                        text: value.nombrenivelestudio
                    }));
                });
                }).fail(function( data ){
                    alert("Error");
            });

            //llenar evaluaciones
            $( "#idnivelestudio" ).change(function() {
                $("#idevaluacion").html('');
                $("#idevaluacion").append($('<option value=0>SELECCIONAR EVALUACION</option>'));
                $.get( "http://localhost:8080/api/evaluacionxnivel/"+$( "#idnivelestudio" ).val(), function(data){
                    debugger;
                    $.each( data, function(index, value){
                        $("#idevaluacion").append($('<option>', {
                            value: value.idevaluacion,
                            text: value.tituloevaluacion
                        }));
                    });
                    }).fail(function( data ){
                        alert("Error");
					})
			});

            //llenar los cursos en el combo
            $( "#idevaluacion" ).change(function() {
            $("#idcurso").html('');
            $("#idcurso").append($('<option value=0>TODOS</option>'));
            $.get( "http://localhost:8080/api/cursoxevaluacion/"+$( "#idevaluacion" ).val(), function(data){
                $.each( data, function(index, value){
                    $("#idcurso").append($('<option>', {
                        value: value.idcurso,
                        text: value.nombrecurso
                    }));
                });
                }).fail(function( data ){
                    alert("Error")
                });
            });

           $( "#btnConsultar" ).click(function() {
               //Resultados
               $("#tbResultado").html('');
               $.get( "http://localhost:8080/api/consultanotas/"+$( "#idevaluacion" ).val() +"/"+
                        $( "#idcurso" ).val(), function(data){
                   debugger;
                   var tr = `<th>Puesto</th>
                    <th>Nombre del alumno</th>
                    <th>Nota</th>`;
                   $("#tbResultado").append(tr)
                   for(var i=0; i<data.length; i++){
                       var tr = `<tr>
                              <td>` + data[i].puesto + `</td>` + `
                              <td>` + data[i].nombrealumno + `</td>` + `
                              <td>` + data[i].puntaje + `</td>
                            </tr>`;
                       $("#tbResultado").append(tr)
                   }
               });
           });
   });
</script>
</body>

</html>

