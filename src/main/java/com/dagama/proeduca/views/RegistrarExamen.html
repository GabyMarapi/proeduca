<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap -->
        <link href="assets/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/css/bootstrap-select.css" rel="stylesheet">
        <!-- font awesome for icons -->
        <link href="assets/css/font-awesome.min.css" rel="stylesheet">
        <!-- flex slider css -->
        <link href="assets/css/flexslider.css" rel="stylesheet" type="text/css" media="screen">
        <!-- animated css  -->
        <link href="assets/css/animate.css" rel="stylesheet" type="text/css" media="screen">
        <!-- Revolution Style-sheet -->
        <link href="assets/rs-plugin/css/settings.css" rel="stylesheet" type="text/css">
        <link href="assets/css/rev-style.css" rel="stylesheet" type="text/css">
        <!--owl carousel css-->
        <link href="assets/owl-carousel/dist/assets/owl.carousel.css" rel="stylesheet" type="text/css" media="screen">
        <link href="assets/owl-carousel/dist/assets/owl.theme.default.css" rel="stylesheet" type="text/css" media="screen">
        <!--mega menu -->
        <link href="assets/css/yamm.css" rel="stylesheet" type="text/css">
        <!--cube css-->
        <link href="assets/cubeportfolio/css/cubeportfolio.min.css" rel="stylesheet" type="text/css">
        <!-- custom css-->
        <link href="assets/css/components.css" rel="stylesheet" type="text/css" media="screen">
        <link href="assets/css/style.css" rel="stylesheet" type="text/css" media="screen">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

<body>
<div id="cabeceraMenu">

</div>
<br>
 <section class="container">
     <div class="card p-4 pr-0 pl-0">
         <div class="mb-4 pr-3 pl-3">
             <h4>Registrar examen</h4>
         </div>
         <form class="needs-validation" novalidate>
             <div class="form-row mb-4">
                 <div class="col-md-6 mb-3 pr-3 pl-3">
                     <label for="validation00">Título *</label>
                     <input type="text" class="form-control" id="validation00" required>
                 </div>
                 <div class="col-md-6 mb-3 pr-3 pl-3">
                     <label>Nivel de estudio *</label>
                     <div class="form-group">
                         <select class="form-control" id="validation01" required>
                         </select>
                     </div>
                 </div>
                 <div class="col-md-6 mb-3 pr-3 pl-3">
                     <label for="validation02">Descripción *</label>
                     <input type="text" class="form-control " id="validation02" required>
                     <div class="invalid-feedback">
                     </div>
                 </div>

                    <div class="col-md-6 mb-3 pr-3 pl-3">
                        <label for="validation02">Máx. Nota *</label>
                        <input type="number" class="form-control " id="validation03"  value ="20" required>
                    </div>

                    <div class="col-md-6 mb-3 pr-3 pl-3">
                        <label for="validation04">Duración (min) *</label>
                        <input type="number" class="form-control " id="validation04" required>
                    </div>
                    <div class="col-md-6 mb-3 pr-3 pl-3">
                        <label for="validation05">N° Preguntas * </label>
                        <input type="number" class="form-control " id="validation05" required>
                    </div>
                    <div class="col-md-3 mb-3 pr-3 pl-3">
                        <label for="validation06">Fecha incio</label>
                        <input type="date" class="form-control " id="validation06">
                    </div>
                    <div class="col-md-3 mb-3 pr-3 pl-3">
                        <label for="validation06">Hora incio</label>
                        <input type="time" class="form-control " id="validation07">
                    </div>
                    <div class="col-md-3 mb-3 pr-3 pl-3">
                        <label for="validation07">Fecha fin</label>
                        <input type="date" class="form-control " id="validation08">
                    </div>
                    <div class="col-md-3 mb-3 pr-3 pl-3">
                        <label for="validation06">Hora incio</label>
                        <input type="time" class="form-control " id="validation09">
                    </div>
                    <div class="col-md-6 mb-3 pr-3 pl-3">
                        <label>Dificultad *</label>
                        <div class="form-group">
                            <select class="form-control" id="validation10" required>
                                <option value="F">Fácil</option>
                                <option value="N">Normal</option>
                                <option value="D">Dificil</option>
                                <option value="A">Avanzado</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3 pr-3 pl-3">
                        <label>Tipo *</label>
                        <div class="form-group">
                            <select class="form-control" id="validation11" required>
                                <option value="E">Evaluado</option>
                                <option value="S">Simulacro</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="pr-3 pl-3 text-center">
                    <button class="btn btn-primary w-25" type="submit">Registrar</button>
                </div>
            </form>
        </div>
    </section>

<div id="Footer">

</div>

<br>
<script src="assets/js/jquery.min.js "></script>
<script src="assets/js/jquery-migrate.min.js "></script>
<!--bootstrap js plugin-->
    <script src="assets/js/bootstrap.min.js " type="text/javascript "></script>
    <!--easing plugin for smooth scroll-->
    <script src="assets/js/jquery.easing.1.3.min.js " type="text/javascript "></script>
    <!--sticky header-->
    <script type="text/javascript " src="assets/js/jquery.sticky.js "></script>
    <!--flex slider plugin-->
    <script src="assets/js/jquery.flexslider-min.js " type="text/javascript "></script>
    <!--parallax background plugin-->
    <script src="assets/js/jquery.stellar.min.js " type="text/javascript "></script>
    <!--digit countdown plugin-->
    <script src="assets/js/waypoints.min.js "></script>
    <!--digit countdown plugin-->
    <script src="assets/js/jquery.counterup.min.js " type="text/javascript "></script>
    <!--on scroll animation-->
    <script src="assets/js/wow.min.js " type="text/javascript "></script>
    <!--owl carousel slider-->
    <script src="assets/owl-carousel/dist/owl.carousel.min.js " type="text/javascript "></script>
    <!--popup js-->
    <script src="assets/js/jquery.magnific-popup.min.js " type="text/javascript "></script>
    <!--customizable plugin edit according to your needs-->
    <script src="assets/js/custom.js " type="text/javascript "></script>
    <script type="text/javascript " src="assets/rs-plugin/js/jquery.themepunch.tools.min.js "></script>
    <script type="text/javascript " src="assets/rs-plugin/js/jquery.themepunch.revolution.min.js "></script>
    <script type="text/javascript " src="assets/rs-plugin/videojs/video.js "></script>
    <script type="text/javascript " src="assets/js/revolution-custom.js "></script>
    <script src="assets/js/bootstrap-select.min.js " type="text/javascript "></script>
    <script src="assets/js/jquery-ui.min.js " type="text/javascript "></script>
    <script src="assets/cubeportfolio/js/jquery.cubeportfolio.min.js " type="text/javascript "></script>
    <script src="assets/js/cube-portfolio.js " type="text/javascript "></script>
    <script src="assets/js/pace.min.js " type="text/javascript "></script>

    <script type="text/javascript">
      $("#cabeceraMenu").load('cabeceraMenu.html');
      $("#Footer").load('Footer.html');
        $("#validation01").html('');
        $.get( "http://localhost:8080/api/nivelestudios", function(data){
            console.log('data');
            $.each( data, function(index, value){
            $("#validation01").append($('<option>', {
                id: value.idnivelestudio,
                value: value.idnivelestudio,
                text: value.nombrenivelestudio
                }));
            });
            }).fail(function( data ){
                alert("Error");
        });

       
        (function() {
            'use strict';
            window.addEventListener('load', function() {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    } else{
                        var datos={
                        "tituloevaluacion": $("#validation00").val(),
                        "idnivelestudio": $( "#validation01 option:selected" ).val(),
                        "descripcionevaluacion": $("#validation02").val(),
                        "notamaxima": $("#validation03").val(),
                        "duracion": $("#validation04").val(),
                        "numeropreguntas": $("#validation05").val(), 
                        "fechainicio": $("#validation06").val()+ ' '+ $("#validation07").val(),
                        "fechafin":$("#validation08").val()+ ' '+ $("#validation09").val(),
                        "gradodificultad":$( "#validation10 option:selected" ).val(), 
                        "tipoevaluacion":$( "#validation11 option:selected" ).val(),
                        "esactivo": 1,
                        };
                        $.ajax({
                            url: "http://localhost:8080/api/evaluacion_reg",
                            type: 'post',
                            dataType: 'json',
                            contentType: 'application/json',
                            success: function (data) {
                                alert("Se registró correctamente");
                            },
                            data: JSON.stringify(datos)
                        });
                    }
                    form.classList.add('was-validated');
                    
                }, false);
                });
            }, false);
        })();
    </script>
</body>

</html>